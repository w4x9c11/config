// Zed settings
//
// For information on how to configure Zed, see the Zed
// documentation: https://zed.dev/docs/configuring-zed
//
// To see all of Zed's default settings without changing your
// custom settings, run `zed: open default settings` from the
// command palette (cmd-shift-p / ctrl-shift-p)
{
  // === 字体与界面 ===
  "buffer_font_family": "Noto Sans Mono",
  "ui_font_size": 16,
  "ui_font_family": "Noto Sans Mono",
  "buffer_font_size": 18.3,
  "icon_theme": "Bearded Icon Theme",
  "theme": {
    "mode": "dark",
    "light": "Ayu Light",
    "dark": "VSCode Dark Polished"
  },
  "file_types": {
    "CMake": ["CMakeLists.txt"]
  },
  "indent_guides": {
    "enabled": false,
    "line_width": 1,
    "active_line_width": 1,
    "coloring": "fixed",
    "background_coloring": "disabled"
  },
  "project_panel": {
    "button": true,
    "default_width": 240,
    "dock": "left",
    "entry_spacing": "comfortable",
    "file_icons": true,
    "folder_icons": true,
    "git_status": true,
    "indent_size": 20,
    "auto_reveal_entries": true,
    "auto_fold_dirs": true,
    "drag_and_drop": true,
    "scrollbar": {
      "show":"never"
    },
    "sticky_scroll": false,
    "show_diagnostics": "errors",
    "indent_guides": {
      "show": "never"
    },

    "hide_root": false,
    "starts_open": false
  },
  // === 编辑与行为 ===
  // "auto_indent": true, // 自动缩进
  // "auto_indent_on_paste": true, // 粘贴时自动缩进
  "auto_signature_help": false,
  "show_signature_help_after_edits": false,
  "ensure_final_newline_on_save": false, // 确保保存时有最后一个换行符
  "extend_comment_on_newline": false, // 扩展换行注释
  "autosave": "off", // 自动保存
  "format_on_save": "off", // 禁用保存格式化
  "inline_code_actions": false, // 显示内联代码操作
  "lsp_highlight_debounce": 100,
  "title_bar": {
    "show_branch_icon": false,
    "show_branch_name": false,
    "show_project_items": false,
    "show_onboarding_banner": false,
    "show_user_picture": true,
    "show_sign_in": false,
    "show_menus": false
  },
  // === 应用行为 ===
  "auto_update": false, // 禁用自动更新
  "confirm_quit": true, // 退出软件确认
  "disable_ai": true, // 禁用AI
  "current_line_highlight": "gutter",

  // === 插件/扩展 ===
  "auto_install_extensions": {
    "html": false,
    "dockerfile": false,
    "docker-compose": false
  },

  // === 界面元素 ===
  "scrollbar": {
    "show": "never"
    // "cursors": false,
    // "git_diff": false,
    // "search_results": true,
    // "selected_text": true,
    // "selected_symbol": true,
    // "diagnostics": "warning",
    // "axes": {
    //   "horizontal": false,
    //   "vertical": true
    // }
  },

  // 标签栏
  "tab_bar": {
    "show": true,
    "show_nav_history_buttons": false,
    "show_tab_bar_buttons": false
  },

  // 选项卡
  "tabs": {
    "close_position": "right",
    "file_icons": true,
    "git_status": true,
    "activate_on_close": "history",
    "show_close_button": "hover",
    "show_diagnostics": "errors"
  },

  "lsp": {
    "clangd": {
      "binary": {
        "path": "E:\\IDE\\clangd\\bin\\clangd.exe",
        "arguments": [
          "--background-index", // 背景索引
          "--completion-style=bundled", // 自动补全风格
          "--header-insertion=never", // 不自动插入头文件
          // "--compile-commands-dir=${workspaceFolder}/build", // cmake 或 xmake 构建目录
          "-compile-commands-dir=build",
          "--pch-storage=disk", // 预编译头存储到磁盘，减少内存占用
          "--j=8", // 使用 4 个线程，可根据 CPU 调整
          "--limit-results=30", // 自动补全结果限制
          "--limit-references=30", // 查找引用限制
          // "--resource-dir=E:/IDE/clangd/lib/clang/20/include", // Clang 内置头文件路径
          "--log=error", // 只输出错误日志
          "--enable-config", // 允许 clangd 配置文件
          "--completion-parse=auto", // 智能补全解析
          "--ranking-model=heuristics", // 补全排序启发式
          "--header-insertion-decorators=false",
          "--function-arg-placeholders=false",
          "--all-scopes-completion=false",
          "--pretty=false",
          "--clang-tidy" // 启用 clang-tidy
        ]
      }
    }
  },
  // 工具栏
  "toolbar": {
    "breadcrumbs": false, // 显示路径导航
    "quick_actions": false, // 显示快速操作按钮
    "selections_menu": true, // 选中代码时的额外菜单
    "agent_review": false, // AI Review 按钮
    "code_actions": false // 显示代码修复/重构
  },

  // 状态栏
  "status_bar": {
    "active_language_button": true, // 显示语言模式
    "cursor_position_button": false // 显示光标位置
  },

  // === Git 与版本控制 ===
  "git": {
    "gutter_debounce": null,
    "git_gutter": "hide",
    "inline_blame": {
      "enabled": false
    },
    "branch_picker": {
      "show_author_name": false
    },
    "hunk_style": "staged_hollow"
  },

  // === 文件扫描排除 ===
  "file_scan_exclusions": [
    "**/.git",
    "**/.svn",
    "**/.hg",
    "**/.jj",
    "**/CVS",
    "**/.DS_Store",
    "**/Thumbs.db",
    "**/.classpath",
    "**/.settings"
  ],

  // === 遥测 ===
  "telemetry": {
    "diagnostics": false,
    "metrics": false
  }
}
